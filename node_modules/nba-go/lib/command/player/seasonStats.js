'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _chalk = require('chalk');

var _chalk2 = _interopRequireDefault(_chalk);

var _nbaColor = require('nba-color');

var _log = require('../../utils/log');

var _table = require('../../utils/table');

var _table2 = _interopRequireDefault(_table);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const alignCenter = columns => columns.map(content => ({ content, hAlign: 'center', vAlign: 'center' }));

const seasonStats = ({
  seasonTtpe,
  nowTeamAbbreviation,
  jersey,
  displayFirstLast,
  seasonTotals,
  careerTotals
}) => {
  const nowTeamMainColor = (0, _nbaColor.getMainColor)(nowTeamAbbreviation);
  const seasonTable = _table2.default.basicTable();
  const playerName = _chalk2.default`{bold.white.bgHex('${nowTeamMainColor ? nowTeamMainColor.hex : '#000'}') ${nowTeamAbbreviation}} {bold.white #${jersey} ${displayFirstLast} â”‚ ${seasonTtpe}}`;
  seasonTable.push([{ colSpan: 14, content: playerName, hAlign: 'center' }]);
  seasonTable.push(alignCenter([(0, _log.bold)('SEASON'), (0, _log.bold)('TEAM'), (0, _log.bold)('AGE'), (0, _log.bold)('GP'), (0, _log.bold)('MIN'), (0, _log.bold)('PTS'), (0, _log.bold)('FG%'), (0, _log.bold)('3P%'), (0, _log.bold)('FT%'), (0, _log.bold)('AST'), (0, _log.bold)('REB'), (0, _log.bold)('STL'), (0, _log.bold)('BLK'), (0, _log.bold)('TOV')]));

  seasonTotals.reverse().forEach(season => {
    const seasonId = season.seasonId,
          teamAbbreviation = season.teamAbbreviation,
          playerAge = season.playerAge,
          gp = season.gp,
          min = season.min,
          pts = season.pts,
          fgPct = season.fgPct,
          fg3Pct = season.fg3Pct,
          ftPct = season.ftPct,
          ast = season.ast,
          reb = season.reb,
          stl = season.stl,
          blk = season.blk,
          tov = season.tov;

    const teamMainColor = (0, _nbaColor.getMainColor)(teamAbbreviation);

    seasonTable.push(alignCenter([(0, _log.bold)(seasonId), _chalk2.default`{bold.white.bgHex('${teamMainColor ? teamMainColor.hex : '#000'}') ${teamAbbreviation}}`, playerAge, gp, min, pts, (fgPct * 100).toFixed(1), (fg3Pct * 100).toFixed(1), (ftPct * 100).toFixed(1), ast, reb, stl, blk, tov]));
  });

  const gp = careerTotals.gp,
        min = careerTotals.min,
        pts = careerTotals.pts,
        fgPct = careerTotals.fgPct,
        fg3Pct = careerTotals.fg3Pct,
        ftPct = careerTotals.ftPct,
        ast = careerTotals.ast,
        reb = careerTotals.reb,
        stl = careerTotals.stl,
        blk = careerTotals.blk,
        tov = careerTotals.tov;


  seasonTable.push(alignCenter([(0, _log.bold)('Overall'), (0, _log.bold)(''), (0, _log.bold)(''), (0, _log.bold)(gp), (0, _log.bold)(min), (0, _log.bold)(pts), (0, _log.bold)((fgPct * 100).toFixed(1)), (0, _log.bold)((fg3Pct * 100).toFixed(1)), (0, _log.bold)((ftPct * 100).toFixed(1)), (0, _log.bold)(ast), (0, _log.bold)(reb), (0, _log.bold)(stl), (0, _log.bold)(blk), (0, _log.bold)(tov)]));

  console.log(seasonTable.toString());
};

exports.default = seasonStats;
//# sourceMappingURL=seasonStats.js.map