{"version":3,"sources":["../../../src/command/game/preview.js"],"names":["alignCenter","columns","map","column","content","vAlign","hAlign","createTeamStatsColumns","teamName","gp","w","l","pts","fgPct","fg3Pct","ftPct","oreb","dreb","reb","ast","blk","stl","tov","pf","plusMinus","toFixed","preview","homeTeam","visitorTeam","date","time","arena","city","state","display_year","display_season","homeTeamDashboardData","visitorTeamDashboardData","gamePreviewTable","columnMaxWidth","Math","max","getFullName","color","length","push","colSpan","get","slice","console","log","toString"],"mappings":"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","file":"preview.js","sourcesContent":["import format from 'date-fns/format';\nimport { center } from 'wide-align';\nimport emoji from 'node-emoji';\n\nimport { bold } from '../../utils/log';\nimport { basicTable } from '../../utils/table';\n\nconst alignCenter = columns =>\n  columns.map(column => {\n    if (typeof column === 'string') {\n      return { content: column, vAlign: 'center', hAlign: 'center' };\n    }\n\n    return { ...column, vAlign: 'center', hAlign: 'center' };\n  });\n\nconst createTeamStatsColumns = (\n  teamName,\n  {\n    gp,\n    w,\n    l,\n    pts,\n    fgPct,\n    fg3Pct,\n    ftPct,\n    oreb,\n    dreb,\n    reb,\n    ast,\n    blk,\n    stl,\n    tov,\n    pf,\n    plusMinus,\n  }\n) => [\n  teamName,\n  `${w} - ${l}`,\n  (w / gp).toFixed(3),\n  `${pts}`,\n  `${(fgPct * 100).toFixed(1)}`,\n  `${(fg3Pct * 100).toFixed(1)}`,\n  `${(ftPct * 100).toFixed(1)}`,\n  `${oreb}`,\n  `${dreb}`,\n  `${reb}`,\n  `${ast}`,\n  `${blk}`,\n  `${stl}`,\n  `${tov}`,\n  `${pf}`,\n  `${plusMinus}`,\n];\n\nconst preview = (\n  homeTeam,\n  visitorTeam,\n  {\n    date,\n    time,\n    arena,\n    city,\n    state,\n    display_year,\n    display_season,\n    homeTeamDashboardData,\n    visitorTeamDashboardData,\n  }\n) => {\n  const gamePreviewTable = basicTable();\n  const columnMaxWidth = Math.max(\n    homeTeam.getFullName({ color: false }).length,\n    visitorTeam.getFullName({ color: false }).length\n  );\n\n  gamePreviewTable.push(\n    alignCenter([\n      {\n        colSpan: 16,\n        content: bold(`${display_year} ${display_season}`),\n      },\n    ]),\n    alignCenter([\n      {\n        colSpan: 16,\n        content: bold(\n          `${emoji.get('calendar')}  ${format(date, 'YYYY/MM/DD')} ${time.slice(\n            0,\n            2\n          )}:${time.slice(2, 4)}`\n        ),\n      },\n    ]),\n    alignCenter([\n      {\n        colSpan: 16,\n        content: bold(`${emoji.get('house')}  ${arena} ï½œ ${city}, ${state}`),\n      },\n    ]),\n    alignCenter(\n      createTeamStatsColumns(\n        center(homeTeam.getFullName({ color: true }), columnMaxWidth),\n        homeTeamDashboardData\n      )\n    ),\n    alignCenter([\n      '',\n      bold('RECORD'),\n      bold('WIN%'),\n      bold('PTS'),\n      bold('FG%'),\n      bold('3P%'),\n      bold('FT%'),\n      bold('OREB'),\n      bold('DREB'),\n      bold('REB'),\n      bold('AST'),\n      bold('BLK'),\n      bold('STL'),\n      bold('TOV'),\n      bold('PF'),\n      bold('+/-'),\n    ]),\n    alignCenter(\n      createTeamStatsColumns(\n        center(visitorTeam.getFullName({ color: true }), columnMaxWidth),\n        visitorTeamDashboardData\n      )\n    )\n  );\n\n  console.log(gamePreviewTable.toString());\n};\n\nexport default preview;\n"]}